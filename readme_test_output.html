<h1>Marky</h1><p>A modular and extensible Markdown parser written in TypeScript that spits out
HTML available as a Deno third party module and as a ES module.</p><h2>Usage</h2><h3>Deno</h3><pre class="language-typescript"><code>import { marky } from "https://deno.land/x/marky@v1.1.6/mod.ts";<br><br>const html = marky("**hi there**"); // =&gt; &lt;p&gt;&lt;strong&gt;hi there&lt;/strong&gt;&lt;/p&gt;</code></pre><h3>ESM</h3><p>You can also use Marky anywhere where ES modules are supported by downloading
and using the <code>marky.esm.js</code> file, and then importing it as follows:</p><pre class="language-javascript"><code>import { marky } from "./marky.esm.js";<br><br>const html = marky("**hi there**"); // =&gt; &lt;p&gt;&lt;strong&gt;hi there&lt;/strong&gt;&lt;/p&gt;</code></pre><p>Or if you want to use Marky in the browser and don't want to bother downloading
and hosting Marky yourself then you can import it conveniently via JSDelivr like
this:</p><pre class="language-html"><code>&lt;script type="module"&gt;<br>import { marky } from "https://cdn.jsdelivr.net/gh/askonomm/marky@1.1.6/marky.esm.js";<br><br>document.querySelector('body').innerHTML = marky("**hi there**");<br>&lt;/script&gt;</code></pre><h2>Parsers</h2><p>By default Marky has the feature-set described here in the
<a href="#default-spec">default spec</a> section, but you can change that! You can add,
remove and even change existing features however you see fit. You see, Marky is
made out of a bunch of parsers as the basic building blocks of the whole thing.</p><p>If you wish to overwrite existing parsers, simply provide an array of <code>Parser</code>'s
as the second argument to <code>marky</code>, like this:</p><pre class="language-typescript"><code>function isHorizontalLineBlock(block: string): boolean {<br>  return block.replaceAll("\n", "").trim() === "***";<br>}<br><br>function horizontalLineBlock(): string {<br>  return `&lt;hr&gt;`;<br>}<br><br>const parsers = [{<br>  matcher: isHorizontalLineBlock,<br>  renderers: [horizontalLineBlock],<br>}];<br><br>const html = marky("***", parsers);</code></pre><p>As you can see in the above example, we're replacing the default parsers with a
parser for just horizontal line blocks which will detect that a block has three
asterisk characters and will then render a <code>&lt;hr&gt;</code> instead.</p><p>Each parser has an optional matcher which takes in a block as a string, and must
return a boolean, in which case that parser' renderers will be used to render
the block. A parser also has an array of renderers that are used to create the
final output. Each renderer takes in a block as a string, but unlike a matcher,
must also return a string. You can have as many as you'd like, of course, for
example:</p><pre class="language-typescript"><code>const parsers = [{<br>  matcher: isHeadingBlock,<br>  renderers: [<br>    bold,<br>    italic,<br>    inlineCode,<br>    strikethrough,<br>    linkAndImage,<br>    headingBlock,<br>  ],<br>}];</code></pre><p>This parser will detect if we're dealing with a heading block, and will then run
the block through several parsers.</p><p><strong>Note:</strong> You do not have to provide a matcher for a parser, but then the parser
and its renderers will only be used when no other parser was matched.</p><h3>Extending default parsers</h3><p>If you wish to add to the default parsers array, simply extend <code>defaultParsers</code>,
like so:</p><pre class="language-typescript"><code>import { defaultParsers, marky } from "./marky.esm.js";<br><br>const parsers = [{<br>  matcher: isMyNewBlockMatcher,<br>  renderers: [myNewRenderer],<br>}];<br><br>marky("***", defaultParsers.concat(parsers));</code></pre><h3>Selecting default parsers</h3><p>You can also selectively create a list of default parsers, like so:</p><pre class="language-typescript"><code>import {<br>  bold,<br>  headingBlock,<br>  isHeadingBlock,<br>  italic,<br>  marky,<br>} from "./marky.esm.js";<br><br>marky("***", [{<br>  matcher: isHeadingBlock,<br>  renderers: [bold, italic, headingBlock],<br>}]);</code></pre><p>Available list of renderers you can import:</p><ul><li><code>bold</code></li><li><code>italic</code></li><li><code>inlineCode</code></li><li><code>strikethrough</code></li><li><code>linkAndImage</code></li><li><code>emptyBlock</code></li><li><code>headingBlock</code></li><li><code>codeBlock</code></li><li><code>horizontalLineBlock</code></li><li><code>quoteBlock</code></li><li><code>listBlock</code></li><li><code>paragraphBlock</code></li></ul><p>Available list of matchers you can import:</p><ul><li><code>isEmptyBlock</code></li><li><code>isHeadingBlock</code></li><li><code>isCodeBlock</code></li><li><code>isHorizontalLineBlock</code></li><li><code>isQuoteBlock</code></li><li><code>isListBlock</code></li></ul><h2>Default spec</h2><h3>Bold text</h3><p>Bold text is created by wrapping selected text with two asterisk characters.</p><pre class="language-markdown"><code>There's **nothing** quite like a cold beverage on a hot summer night.</code></pre><h3>Italic text</h3><p>Italic text is created by wrapping selected text with one underscore character.</p><pre class="language-markdown"><code>There's _nothing_ quite like a cold beverage on a hot summer night.</code></pre><h3>Links</h3><p>Links can be created by wrapping the label of a link in two square brackets,
followed by the link being wrapped in two parentheses.</p><pre class="language-markdown"><code>You should totally [visit my site](https://bien.ee).</code></pre><h3>Images</h3><p>Images can be created just like links, where you wrap the label (well, alt title
in this case) in two square brackets which is followed by the image aadress
being wrapped in two parentheses. Except, add a exclamation mark in front, which
will signify that we're dealing with an image and not with a link.</p><pre class="language-markdown"><code>Here's a photo ![profile photo](https://somewhere.com/photo.jpg)</code></pre><h3>Inline code</h3><p>Inline code text is created by wrapping selected text with one backtick
character.</p><pre class="language-markdown"><code>There's `nothing` quite like a cold beverage on a hot summer night.</code></pre><h3>Striked out text</h3><p>Striked out text is created by wrapping selected text with two tilde characters.</p><pre class="language-markdown"><code>There's ~~nothing~~ quite like a cold beverage on a hot summer night.</code></pre><h3>Horizontal line separator block</h3><p>Horizontal line separator is created by having a block separated by a empty line
break (just like paragraphs or code blocks) and writing three concecutive
asterisk characters.</p><pre class="language-markdown"><code>This is a paragraph.<br><br>***<br><br>And this is another paragraph separated by a horizontal line.</code></pre><h3>Paragraph blocks</h3><p>Paragraphs are created by simply leaving one empty line break between text,
which, technically means having two line breaks, but remember it as just one
empty line between text.</p><h3>Heading blocks</h3><p>Headings are created by adding a octothorp (hashtag) character in front of a
block of text that is separated from others by one empty line.</p><pre class="language-markdown"><code># This is a big title<br><br>And some paragraph goes here.<br><br>## A little smaller title<br><br>And another paragraph goes here.</code></pre><p>As you can see, the smaller the amount of octothorp characters the bigger the
title will be. You can use as many octothorps as you wish, but browsers can only
recognize up to 6 of them.</p><h3>Code blocks</h3><p>Code blocks are created by wrapping your code with three backtick characters.</p><pre class="language-markdown"><code>`<br>code goes here<br>```<br>````</code></pre><p>If you want to also make sure that the HTML output would have a class associated
with the programming language used in the code block, make sure to append the
language name to the first occurence of backticks, like so:</p><pre class="language-markdown"><code>`javascript<br>code goes here<br>```<br>````</code></pre><h3>Quote blocks</h3><p>Quote blocks are created by prepending an arrow and space to the left of the
text you want to quote.</p><pre class="language-markdown"><code>This is a paragraph of text.<br><br>&gt; This is a paragraph of text in a quote</code></pre><p>Quote blocks behave like any other block, in that if you separate quote blocks
by one item where there is no text (only arrow), you create new paragraphs. You
can also nest quote blocks by appeding more arrows.</p><pre class="language-markdown"><code>This is a paragraph of text.<br><br>&gt; This is a paragraph of text in a quote<br>&gt;<br>&gt; This is another paragraph of text in a quote.<br>&gt;<br>&gt; &gt; This is a paragraph of text in a nested quote.</code></pre><h3>List blocks</h3><p>List blocks are created by prepending an asterisk character for unordered lists
and a number with a dot suffix to ordered lists.</p><pre class="language-markdown"><code>This is a paragraph.<br><br>* This is an unordered list item.<br>* And this is another one.<br><br>1. This is an ordered list item.<br>2. And this is another one.</code></pre><p>Nested lists are also supported and work by indenting two spaces:</p><pre class="language-markdown"><code>* This is a list item.<br>  * This is a nested list item<br>    1. This is yet another level of nesting.<br>  * And so on.<br>* And so on.<br></code></pre>